<h1><%= @property.title %></h1>

<div class="property-details">
  <p><strong>Rent:</strong> <%= @property.price %></p>
  <p><strong>Description:</strong> <%= @property.description %></p>
  <p><strong>City</strong>: <%= @property.city %></p>
  <p><strong>Status:</strong> <%= @property.status %></p>
  <p><strong>Location:</strong> Latitude: <%= @property.latitude %>, Longitude: <%= @property.longitude %></p>

  <p><strong>Address:</strong>
    <%= @property.address_line_1 %>,
    <%= @property.address_line_2 %>,
    <%= @property.city %>,
    <%= @property.postal_code %>
  </p>

  <% if @property.images.present? %>
    <% @property.images.each do |image| %>
      <%= link_to image_tag(image, size: "200x200"), url_for(image), target: "_blank" %>
    <% end %>
  <% end %>
</div>


<br>

<%= link_to 'Back to Properties', properties_path, class: "btn btn-secondary" %>

<%= link_to 'Contact Owner', contact_property_path(@property), class: "btn btn-primary" %>
<hr>

<!-- Comments Section -->
<h3>Comments</h3>

<% @property.comments.each do |comment| %>
  <div class="comment">
    <strong><%= comment.user.email %>:</strong>
    <p><%= comment.body %></p>
  </div>
<% end %>

<!-- Comment Form -->
<h4>Add a Comment</h4>

<%= form_with model: [@property, Comment.new], local: true do |f| %>
  <div class="form-group">
    <%= f.label :body, "Your Comment" %>
    <%= f.text_area :body, class: "form-control", rows: 5 %>
  </div>

  <div class="form-group">
    <%= f.submit "Submit", class: "btn btn-primary" %>
  </div>
<% end %>

